{"ast":null,"code":"import _slicedToArray from\"E:/Project/final-project-online-hospital-management-system/Frontend/hmsfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{patientSigninAction}from'../../actions/patientAction';import Header from'../../components/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PatientSignInScreen=function PatientSignInScreen(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var patientSignin=useSelector(function(store){return store.patientSignin;});var loading=patientSignin.loading,error=patientSignin.error,response=patientSignin.response;var dispatch=useDispatch();var onSignin=function onSignin(){dispatch(patientSigninAction(email,password));};useEffect(function(){if(response&&response.status=='200'){sessionStorage.setItem('pat_info',JSON.stringify(response.data));sessionStorage.setItem('isLoggedIn',true);props.history.push('/bookAppointment');}else if(response&&response.status=='error'){alert(response.error);}else if(error){alert(error);}},[loading,error,response]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"center-align fadeInDown\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Patient Signin\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form box-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setEmail(e.target.value);},type:\"email\",className:\"form-control\",placeholder:\"hms@gmail.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setPassword(e.target.value);},className:\"form-control\",placeholder:\"*****\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onSignin,className:\"btn btn-success btn-lg btn-block\",children:\"Signin\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"New User? \",/*#__PURE__*/_jsx(Link,{to:\"/patientSignUp\",children:\"Signup here\"})]})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"Container text-center\",children:\"waiting for response\"})]});};export default PatientSignInScreen;","map":{"version":3,"sources":["E:/Project/final-project-online-hospital-management-system/Frontend/hmsfront/src/screens/PatientScreens/PatientSignInScreen.js"],"names":["useEffect","useState","useDispatch","useSelector","Link","patientSigninAction","Header","PatientSignInScreen","props","email","setEmail","password","setPassword","patientSignin","store","loading","error","response","dispatch","onSignin","status","sessionStorage","setItem","JSON","stringify","data","history","push","alert","e","target","value"],"mappings":"mMAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,mBAAT,KAAoC,6BAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,wFAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,eACXP,QAAQ,CAAC,EAAD,CADG,wCAC9BQ,KAD8B,eACvBC,QADuB,8BAELT,QAAQ,CAAC,EAAD,CAFH,yCAE9BU,QAF8B,eAEpBC,WAFoB,eAIrC,GAAMC,CAAAA,aAAa,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACD,aAAjB,EAAD,CAAjC,CAJqC,GAK7BE,CAAAA,OAL6B,CAKAF,aALA,CAK7BE,OAL6B,CAKpBC,KALoB,CAKAH,aALA,CAKpBG,KALoB,CAKbC,QALa,CAKAJ,aALA,CAKbI,QALa,CAOrC,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBD,QAAQ,CAACb,mBAAmB,CAACI,KAAD,CAAQE,QAAR,CAApB,CAAR,CACD,CAFD,CAIAX,SAAS,CAAC,UAAM,CACd,GAAIiB,QAAQ,EAAIA,QAAQ,CAACG,MAAT,EAAmB,KAAnC,CAA0C,CACxCC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAmCC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACQ,IAAxB,CAAnC,EACAJ,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAAqC,IAArC,EACAd,KAAK,CAACkB,OAAN,CAAcC,IAAd,CAAmB,kBAAnB,EACD,CAJD,IAIO,IAAIV,QAAQ,EAAIA,QAAQ,CAACG,MAAT,EAAmB,OAAnC,CAA4C,CACjDQ,KAAK,CAACX,QAAQ,CAACD,KAAV,CAAL,CACD,CAFM,IAEA,IAAIA,KAAJ,CAAW,CAChBY,KAAK,CAACZ,KAAD,CAAL,CACD,CACF,CAVQ,CAUN,CAACD,OAAD,CAAUC,KAAV,CAAiBC,QAAjB,CAVM,CAAT,CAYA,mBACE,oCACE,aAAK,SAAS,CAAC,yBAAf,wBACE,WAAI,SAAS,CAAC,aAAd,4BADF,cAEE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,SAAS,CAAC,YAAjB,mBADF,cAEE,cACE,QAAQ,CAAE,kBAACY,CAAD,CAAO,CACfnB,QAAQ,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAHH,CAIE,IAAI,CAAC,OAJP,CAKE,SAAS,CAAC,cALZ,CAME,WAAW,CAAC,eANd,EAFF,GADF,cAYE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,SAAS,CAAC,YAAjB,sBADF,cAEE,cACE,QAAQ,CAAE,kBAACF,CAAD,CAAO,CACfjB,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAHH,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,OALd,EAFF,GAZF,GAFF,cAwBE,aAAK,SAAS,CAAC,aAAf,wBACE,eACE,OAAO,CAAEZ,QADX,CAEE,SAAS,CAAC,kCAFZ,oBADF,cAME,iDACY,KAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,yBADZ,GANF,GAxBF,GADF,CAoCGJ,OAAO,eACN,YAAK,SAAS,CAAC,uBAAf,kCArCJ,GADF,CA0CD,CAlED,CAmEA,cAAeR,CAAAA,mBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { patientSigninAction } from '../../actions/patientAction'\r\nimport Header from '../../components/Header'\r\n\r\nconst PatientSignInScreen = (props) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const patientSignin = useSelector((store) => store.patientSignin)\r\n  const { loading, error, response } = patientSignin\r\n\r\n  const dispatch = useDispatch()\r\n  const onSignin = () => {\r\n    dispatch(patientSigninAction(email, password))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (response && response.status == '200') {\r\n      sessionStorage.setItem('pat_info', JSON.stringify(response.data))\r\n      sessionStorage.setItem('isLoggedIn', true)\r\n      props.history.push('/bookAppointment')\r\n    } else if (response && response.status == 'error') {\r\n      alert(response.error)\r\n    } else if (error) {\r\n      alert(error)\r\n    }\r\n  }, [loading, error, response])\r\n\r\n  return (\r\n    <div>\r\n      <div className='center-align fadeInDown'>\r\n        <h3 className='text-center'>Patient Signin</h3>\r\n        <div className='form box-shadow'>\r\n          <div className='mb-3'>\r\n            <label className='form-label'>Email</label>\r\n            <input\r\n              onChange={(e) => {\r\n                setEmail(e.target.value)\r\n              }}\r\n              type='email'\r\n              className='form-control'\r\n              placeholder='hms@gmail.com'\r\n            />\r\n          </div>\r\n          <div className='mb-3'>\r\n            <label className='form-label'>Password</label>\r\n            <input\r\n              onChange={(e) => {\r\n                setPassword(e.target.value)\r\n              }}\r\n              className='form-control'\r\n              placeholder='*****'></input>\r\n          </div>\r\n        </div>\r\n        <div className='text-center'>\r\n          <button\r\n            onClick={onSignin}\r\n            className='btn btn-success btn-lg btn-block'>\r\n            Signin\r\n          </button>\r\n          <div>\r\n            New User? <Link to='/patientSignUp'>Signup here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {loading && (\r\n        <div className='Container text-center'>waiting for response</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default PatientSignInScreen\r\n"]},"metadata":{},"sourceType":"module"}