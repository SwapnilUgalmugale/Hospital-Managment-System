{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{recpDischargePatientAction,recpGetAdmitPatientsAction}from\"../../actions/recpActions\";import Header from\"../../components/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecpDischargePatient=function RecpDischargePatient(props){var dischargePat=useSelector(function(store){return store.recpDischargePatient;});var derror=dischargePat.derror,dresponse=dischargePat.dresponse,dloading=dischargePat.dloading;var isDischarged=false;var admitPatients=useSelector(function(store){return store.recpGetAdmitPatients;});var dispatch=useDispatch();useEffect(function(){dispatch(recpGetAdmitPatientsAction());},[isDischarged]);useEffect(function(){if(dresponse&&dresponse.status==\"200\"){document.location.href=\"/receptionist/discharge-patient\";alert(\"Patient discharged successfully\");}else if(derror){alert(derror);}},[derror,dresponse,dloading]);var onDischarge=function onDischarge(id){isDischarged=true;dispatch(recpDischargePatientAction(id));// window.location.reload(true);\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"Discharge Patient\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:admitPatients.response&&admitPatients.response.data.list.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Aadmit Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Patient Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dept Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discharge\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:admitPatients.response.data.list.map(function(e){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:e.id}),/*#__PURE__*/_jsx(\"td\",{children:e.admitDate}),/*#__PURE__*/_jsx(\"td\",{children:e.patient}),/*#__PURE__*/_jsx(\"td\",{children:e.department}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){onDischarge(e.id);},className:\"btn btn-primary\",type:\"button\",children:\"Discharge\"})})]});})})]}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Patient is admitted\"})})]});};export default RecpDischargePatient;","map":{"version":3,"sources":["E:/Project/final-project-online-hospital-management-system/Frontend/hmsfront/src/screens/ReceptionistScreens/RecpDischargePatient.js"],"names":["useEffect","useDispatch","useSelector","recpDischargePatientAction","recpGetAdmitPatientsAction","Header","RecpDischargePatient","props","dischargePat","store","recpDischargePatient","derror","dresponse","dloading","isDischarged","admitPatients","recpGetAdmitPatients","dispatch","status","document","location","href","alert","onDischarge","id","response","data","list","length","map","e","admitDate","patient","department"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OACEC,0BADF,CAEEC,0BAFF,KAGO,2BAHP,CAIA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CACtC,GAAMC,CAAAA,YAAY,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,oBAAjB,EAAD,CAAhC,CADsC,GAE9BC,CAAAA,MAF8B,CAEEH,YAFF,CAE9BG,MAF8B,CAEtBC,SAFsB,CAEEJ,YAFF,CAEtBI,SAFsB,CAEXC,QAFW,CAEEL,YAFF,CAEXK,QAFW,CAGtC,GAAIC,CAAAA,YAAY,CAAG,KAAnB,CACA,GAAMC,CAAAA,aAAa,CAAGb,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACO,oBAAjB,EAAD,CAAjC,CACA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACAD,SAAS,CAAC,UAAM,CACdiB,QAAQ,CAACb,0BAA0B,EAA3B,CAAR,CACD,CAFQ,CAEN,CAACU,YAAD,CAFM,CAAT,CAIAd,SAAS,CAAC,UAAM,CACd,GAAIY,SAAS,EAAIA,SAAS,CAACM,MAAV,EAAoB,KAArC,CAA4C,CAC1CC,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,CAAyB,iCAAzB,CACAC,KAAK,CAAC,iCAAD,CAAL,CACD,CAHD,IAGM,IAAGX,MAAH,CAAU,CACdW,KAAK,CAACX,MAAD,CAAL,CACD,CACF,CAPQ,CAON,CAACA,MAAD,CAASC,SAAT,CAAoBC,QAApB,CAPM,CAAT,CASA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CAC1BV,YAAY,CAAG,IAAf,CACAG,QAAQ,CAACd,0BAA0B,CAACqB,EAAD,CAA3B,CAAR,CACA;AACD,CAJD,CAKA,mBACE,oCACE,KAAC,MAAD,EAAQ,KAAK,CAAC,mBAAd,EADF,cAEE,YAAK,SAAS,CAAC,WAAf,UACGT,aAAa,CAACU,QAAd,EACDV,aAAa,CAACU,QAAd,CAAuBC,IAAvB,CAA4BC,IAA5B,CAAiCC,MAAjC,CAA0C,CADzC,cAEC,eAAO,SAAS,CAAC,qBAAjB,wBACE,oCACE,mCACE,0BADF,cAEE,mCAFF,cAGE,kCAHF,cAIE,+BAJF,cAKE,iCALF,GADF,EADF,cAUE,uBACGb,aAAa,CAACU,QAAd,CAAuBC,IAAvB,CAA4BC,IAA5B,CAAiCE,GAAjC,CAAqC,SAACC,CAAD,CAAO,CAC3C,mBACE,mCACE,oBAAKA,CAAC,CAACN,EAAP,EADF,cAEE,oBAAKM,CAAC,CAACC,SAAP,EAFF,cAGE,oBAAKD,CAAC,CAACE,OAAP,EAHF,cAIE,oBAAKF,CAAC,CAACG,UAAP,EAJF,cAKE,iCACE,eACE,OAAO,CAAE,kBAAM,CACbV,WAAW,CAACO,CAAC,CAACN,EAAH,CAAX,CACD,CAHH,CAIE,SAAS,CAAC,iBAJZ,CAKE,IAAI,CAAC,QALP,uBADF,EALF,GADF,CAmBD,CApBA,CADH,EAVF,GAFD,cAqCC,8CAtCJ,EAFF,GADF,CA8CD,CAtED,CAuEA,cAAelB,CAAAA,oBAAf","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  recpDischargePatientAction,\r\n  recpGetAdmitPatientsAction,\r\n} from \"../../actions/recpActions\";\r\nimport Header from \"../../components/Header\";\r\n\r\nconst RecpDischargePatient = (props) => {\r\n  const dischargePat = useSelector((store) => store.recpDischargePatient);\r\n  const { derror, dresponse, dloading } = dischargePat;\r\n  let isDischarged = false;\r\n  const admitPatients = useSelector((store) => store.recpGetAdmitPatients);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(recpGetAdmitPatientsAction());\r\n  }, [isDischarged]);\r\n\r\n  useEffect(() => {\r\n    if (dresponse && dresponse.status == \"200\") {\r\n      document.location.href = \"/receptionist/discharge-patient\";\r\n      alert(\"Patient discharged successfully\");\r\n    }else if(derror){\r\n      alert(derror);\r\n    }\r\n  }, [derror, dresponse, dloading]);\r\n\r\n  const onDischarge = (id) => {\r\n    isDischarged = true;\r\n    dispatch(recpDischargePatientAction(id));\r\n    // window.location.reload(true);\r\n  };\r\n  return (\r\n    <div>\r\n      <Header title=\"Discharge Patient\" />\r\n      <div className=\"container\">\r\n        {admitPatients.response &&\r\n        admitPatients.response.data.list.length > 0 ? (\r\n          <table className=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Aadmit Date</th>\r\n                <th>Patient Id</th>\r\n                <th>Dept Id</th>\r\n                <th>Discharge</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {admitPatients.response.data.list.map((e) => {\r\n                return (\r\n                  <tr>\r\n                    <td>{e.id}</td>\r\n                    <td>{e.admitDate}</td>\r\n                    <td>{e.patient}</td>\r\n                    <td>{e.department}</td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => {\r\n                          onDischarge(e.id);\r\n                        }}\r\n                        className=\"btn btn-primary\"\r\n                        type=\"button\"\r\n                      >\r\n                        Discharge\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <h3>No Patient is admitted</h3>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default RecpDischargePatient;\r\n"]},"metadata":{},"sourceType":"module"}