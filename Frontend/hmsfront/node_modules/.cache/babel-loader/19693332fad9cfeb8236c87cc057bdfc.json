{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getMedicines,medPresc}from'../../actions/DoctorAction';import'../../App.css';import Header from'../../components/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DoctorMedicineListScreen=function DoctorMedicineListScreen(props){var dispatch=useDispatch();var medicines=useSelector(function(store){return store.medicine;});var error=medicines.error,response=medicines.response,loading=medicines.loading;// call this only once (when the page has loaded successfully)\nuseEffect(function(){dispatch(getMedicines());},[]);useEffect(function(){},[error,response,loading]);var list=[];var med_presc=function med_presc(){dispatch(medPresc(list));props.history.push('/doctor/med_presc');};var add_to_list=function add_to_list(id,qty){list=list.filter(function(item){return item!=id;});list.push({medicine:{id:id},qty:qty});console.log('lists :'+list);console.log('qty :'+qty);};var remove_from_list=function remove_from_list(id,qty){list=list.filter(function(item){return item.medicine.id!=id;});console.log('lists :'+list);console.log('qty :'+qty);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"List\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"subheader \",children:\"Select Medicines\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped container\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Medicine id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Medicine name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:response&&response.length>0&&response.map(function(note){return/*#__PURE__*/_jsxs(\"tr\",{id:note.id,children:[/*#__PURE__*/_jsx(\"td\",{children:note.id}),/*#__PURE__*/_jsx(\"td\",{children:note.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{id:note.name,type:\"number\",name:\"qty\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",onClick:function onClick(){document.getElementById(note.id).style.background='lightblue';add_to_list(note.id,document.getElementById(note.name).value);},children:\"Add\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger\",onClick:function onClick(){document.getElementById(note.id).style.background='white';remove_from_list(note.id,document.getElementById(note.name).value);},children:\"Remove\"})}),/*#__PURE__*/_jsx(\"td\",{})]});})})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:med_presc,className:\"btn btn-success float-center\",children:\"Submit\"})})]});};export default DoctorMedicineListScreen;","map":{"version":3,"sources":["E:/Project/final-project-online-hospital-management-system/Frontend/hmsfront/src/screens/DoctorScreens/DoctorMedicineListScreen.js"],"names":["useEffect","useDispatch","useSelector","getMedicines","medPresc","Header","DoctorMedicineListScreen","props","dispatch","medicines","store","medicine","error","response","loading","list","med_presc","history","push","add_to_list","id","qty","filter","item","console","log","remove_from_list","length","map","note","name","document","getElementById","style","background","value"],"mappings":"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","sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getMedicines, medPresc } from '../../actions/DoctorAction'\nimport '../../App.css'\nimport Header from '../../components/Header'\n\nconst DoctorMedicineListScreen = (props) => {\n  const dispatch = useDispatch()\n  const medicines = useSelector((store) => store.medicine)\n  const { error, response, loading } = medicines\n\n\n  // call this only once (when the page has loaded successfully)\n  useEffect(() => {\n    dispatch(getMedicines())\n  }, [])\n\n  useEffect(() => {}, [error, response, loading])\n  let list = []\n  const med_presc = () => {\n    dispatch(medPresc(list))\n    props.history.push('/doctor/med_presc')\n  }\n  const add_to_list = (id, qty) => {\n    list = list.filter((item) => item != id)\n    list.push({\n      medicine: { id: id },\n      qty: qty,\n    })\n    console.log('lists :' + list)\n    console.log('qty :' + qty)\n  }\n  const remove_from_list = (id, qty) => {\n    list = list.filter((item) => item.medicine.id != id)\n\n    console.log('lists :' + list)\n    console.log('qty :' + qty)\n  }\n  return (\n    <div>\n      <Header title=\"List\" />\n      <div>\n        <div className=\"subheader \">Select Medicines</div>\n        <table className=\"table table-striped container\">\n          <thead>\n            <tr>\n              <th>Medicine id</th>\n              <th>Medicine name</th>\n\n              <th>Quantity</th>\n\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {response &&\n              response.length > 0 &&\n              response.map((note) => {\n                return (\n                  <tr id={note.id}>\n                    <td>{note.id}</td>\n                    <td>{note.name}</td>\n                    <td>\n                      <input id={note.name} type=\"number\" name=\"qty\" />\n                    </td>\n                    <td>\n                      <button\n                        class=\"btn btn-primary\"\n                        onClick={() => {\n                          document.getElementById(note.id).style.background =\n                            'lightblue'\n                          add_to_list(\n                            note.id,\n                            document.getElementById(note.name).value\n                          )\n                        }}>\n                        Add\n                      </button>\n                    </td>\n                    <td>\n                      <button\n                        class=\"btn btn-danger\"\n                        onClick={() => {\n                          document.getElementById(note.id).style.background =\n                            'white'\n                          remove_from_list(\n                            note.id,\n                            document.getElementById(note.name).value\n                          )\n                        }}>\n                        Remove\n                      </button>\n                    </td>\n                    <td></td>\n                  </tr>\n                )\n              })}\n          </tbody>\n        </table>\n      </div>\n      <div class=\"text-center\">\n        <button onClick={med_presc} className=\"btn btn-success float-center\">\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default DoctorMedicineListScreen\n"]},"metadata":{},"sourceType":"module"}